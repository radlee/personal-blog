<a href="/dashboard">&larr; Back</a>

<div class="admin-title">
    <h2>Add New Blog Post</h2>
</div>

<form action="/add-post" method="POST">

    <label for="title"><b>Title</b></label>
    <input type="text" placeholder="Post Title" name="title">

    <!-- Hidden input to store Quill editor content -->
    <input type="hidden" id="quill-content" name="body">

    <label for="body"><b>Content</b></label>
    <div id="editor-container"></div>

    <input type="submit" value="Add" class="btn">

</form>

<!-- Initialize Quill editor -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    var quill = new Quill('#editor-container', {
      modules: {
        toolbar: [
          [{ header: [1, 2, false] }],
          ['bold', 'italic', 'underline'],
          ['image', 'code-block']
        ]
      },
      placeholder: 'Compose an epic...',
      theme: 'snow'  // or 'bubble'
    });

    var form = document.querySelector('form');
    var quillContentInput = document.getElementById('quill-content');

    form.addEventListener('submit', function() {
      var editorContent = document.querySelector('.ql-editor').innerHTML;
      quillContentInput.value = editorContent;
    });
  });
</script>

<!-- <script>
  ClassicEditor
      .create( document.querySelector( '#editor' ), {
        ckfinder: {
        // CKFinder configuration options
        uploadUrl: '/upload', // Set the URL to your Express.js route
        // Enable the XMLHttpRequest.withCredentials property.
        withCredentials: true,
        
        // Headers sent along with the XMLHttpRequest to the upload server.
        headers: {
            'X-CSRF-TOKEN': 'CSFR-Token',
            Authorization: 'Bearer <JSON Web Token>'
        }

      }
      } )
      .catch( error => {
          console.error( error );
      } );
</script> -->